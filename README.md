# GarantTestTask
  Тестовое задание для компании "Гарант". Ссылка на постановку задачи: https://github.com/GarantTestTasks/PhpTestTask. Выполнены все поставленные задачи.
## Особенности исполнения
  Сервис принимает запросы в виде JSON-объекта с параметрами, перечисленными ниже. (?) - необязательный параметр. <br/>
  JSON-объект должен передаваться в сыром виде (raw) в теле запроса. Рекомендуется использовать заголовок Content-Type: application/json.<br/>
  Так как в задании не было сказано иного, было решено не требовать от пользователя полноты вводимых данных. Таким образом, могут быть созданы сотрудники и клиенты с пустыми полями (так и задумано, но легко исправляется).<br/>
  В корне проекта лежит файл dump.sql, необходимый для инициализации и заполнения тестовыми данными базы данных.<br/>
  Сервер необходимо запускать из директории public.<br/>
  Перед началом работы необходимо создать и заполнить файл .env с переменными окружения по аналогии с .env.example.<br/>
  В проекте используется менеджер зависимостей composer. Для развёртывания проекта необходимо установить composer и выполнить команду "composer install" в корне проекта.
## Конечные точки:
### client
* POST /api/v1/client - создать клиента.
  * Параметры: (?) "name", (?) "phone", (?) "taxpayer_number"
* GET  /api/v1/client/{id} - получить клиента по id (в ответе также отображается информация о договорах, принадлежащих клиенту)
* GET  /api/v1/client?sort=1&by=id&limit - получить клиентов с сортировкой (sort enum(1,0)) по одному из полей (by) и ограничением по количеству записей (limit)
* GET  /api/v1/client/export - экспорт всех клиентов в csv формате
* GET  /api/v1/client/form - получение страницы с формой добавления клиента
### contract
* POST /api/v1/contract/create - эндпоинт для создания договора.
  * Параметры: "client_id", "start", "end", (?) "employee_id", (?) "sum".
* POST /api/v1/contract/update - эндпоинт для обновления договора.
  * Параметры: "id", (?) "client_id", (?) "start", (?) "end", (?) "employee_id", (?) "sum".
* POST /api/v1/contract/delete - эндпоинт для удаления договора.
  * Параметры: "id".
* GET /api/v1/contract - получить список договоров (для удобства дебага)
### employee
* POST /api/v1/employee - создать сотрудника.
  * Параметры: (?) "name", (?) "birth_date", (?) "salary".
* POST /api/v1/employee/report - получить отчёт по эффективности.
  * Параметры: "start", "end".
* POST /api/v1/employee/fire - уволить сотрудника.
  * Параметры: "id".
